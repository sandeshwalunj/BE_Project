{"ast":null,"code":"import React from 'react';\n\n/**\r\n * Generic error handling component.\r\n * Triggers an error toast.\r\n * \r\n * @author syuki\r\n */\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.promiseRejectionHandler = event => {\n      this.setState({\n        hasError: true\n      });\n      this.props.setTransactionSuccess(false);\n      this.props.hideLoaderScreen();\n      this.props.hideDialog();\n    };\n    this.state = {\n      hasError: false\n    };\n  }\n  static getDerivedStateFromError(error) {\n    this.props.setTransactionSuccess(false);\n    this.props.hideLoaderScreen();\n    this.props.hideDialog();\n    return {\n      hasError: true\n    };\n  }\n  componentDidCatch(error, info) {\n    this.setState({\n      hasError: true\n    });\n    this.props.setTransactionSuccess(false);\n    this.props.hideLoaderScreen();\n    this.props.hideDialog();\n  }\n  componentDidMount() {\n    window.addEventListener('unhandledrejection', this.promiseRejectionHandler);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('unhandledrejection', this.promiseRejectionHandler);\n  }\n  render() {\n    if (this.state.hasError) {\n      return '';\n    }\n    return this.props.children;\n  }\n}\nexport default ErrorBoundary;","map":{"version":3,"names":["React","ErrorBoundary","Component","constructor","props","promiseRejectionHandler","event","setState","hasError","setTransactionSuccess","hideLoaderScreen","hideDialog","state","getDerivedStateFromError","error","componentDidCatch","info","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","render","children"],"sources":["G:/blockchain-scm/appfrontend/src/components/ErrorBoundary.js"],"sourcesContent":["import React from 'react';\r\n\r\n/**\r\n * Generic error handling component.\r\n * Triggers an error toast.\r\n * \r\n * @author syuki\r\n */\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            hasError: false\r\n        };\r\n    }\r\n\r\n    static getDerivedStateFromError(error) {\r\n        this.props.setTransactionSuccess(false);\r\n        this.props.hideLoaderScreen();\r\n        this.props.hideDialog();\r\n        return { hasError: true };\r\n      }\r\n\r\n    promiseRejectionHandler = (event) => {\r\n        this.setState({\r\n            hasError: true,\r\n        });\r\n        this.props.setTransactionSuccess(false);\r\n        this.props.hideLoaderScreen();\r\n        this.props.hideDialog();\r\n    }\r\n\r\n    componentDidCatch(error, info) {\r\n        this.setState({\r\n            hasError: true,\r\n        });\r\n        this.props.setTransactionSuccess(false);\r\n        this.props.hideLoaderScreen();\r\n        this.props.hideDialog();\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('unhandledrejection', this.promiseRejectionHandler);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.promiseRejectionHandler);\r\n    }\r\n    \r\n    render() {\r\n        if (this.state.hasError) {\r\n            return ('');\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;  "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,aAAa,SAASD,KAAK,CAACE,SAAS,CAAC;EACxCC,WAAW,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IAAC,KAajBC,uBAAuB,GAAIC,KAAK,IAAK;MACjC,IAAI,CAACC,QAAQ,CAAC;QACVC,QAAQ,EAAE;MACd,CAAC,CAAC;MACF,IAAI,CAACJ,KAAK,CAACK,qBAAqB,CAAC,KAAK,CAAC;MACvC,IAAI,CAACL,KAAK,CAACM,gBAAgB,EAAE;MAC7B,IAAI,CAACN,KAAK,CAACO,UAAU,EAAE;IAC3B,CAAC;IAnBG,IAAI,CAACC,KAAK,GAAG;MACTJ,QAAQ,EAAE;IACd,CAAC;EACL;EAEA,OAAOK,wBAAwB,CAACC,KAAK,EAAE;IACnC,IAAI,CAACV,KAAK,CAACK,qBAAqB,CAAC,KAAK,CAAC;IACvC,IAAI,CAACL,KAAK,CAACM,gBAAgB,EAAE;IAC7B,IAAI,CAACN,KAAK,CAACO,UAAU,EAAE;IACvB,OAAO;MAAEH,QAAQ,EAAE;IAAK,CAAC;EAC3B;EAWFO,iBAAiB,CAACD,KAAK,EAAEE,IAAI,EAAE;IAC3B,IAAI,CAACT,QAAQ,CAAC;MACVC,QAAQ,EAAE;IACd,CAAC,CAAC;IACF,IAAI,CAACJ,KAAK,CAACK,qBAAqB,CAAC,KAAK,CAAC;IACvC,IAAI,CAACL,KAAK,CAACM,gBAAgB,EAAE;IAC7B,IAAI,CAACN,KAAK,CAACO,UAAU,EAAE;EAC3B;EAEAM,iBAAiB,GAAG;IAChBC,MAAM,CAACC,gBAAgB,CAAC,oBAAoB,EAAE,IAAI,CAACd,uBAAuB,CAAC;EAC/E;EAEAe,oBAAoB,GAAG;IACnBF,MAAM,CAACG,mBAAmB,CAAC,oBAAoB,EAAE,IAAI,CAAChB,uBAAuB,CAAC;EAClF;EAEAiB,MAAM,GAAG;IACL,IAAI,IAAI,CAACV,KAAK,CAACJ,QAAQ,EAAE;MACrB,OAAQ,EAAE;IACd;IACA,OAAO,IAAI,CAACJ,KAAK,CAACmB,QAAQ;EAC9B;AACJ;AAEA,eAAetB,aAAa"},"metadata":{},"sourceType":"module"}