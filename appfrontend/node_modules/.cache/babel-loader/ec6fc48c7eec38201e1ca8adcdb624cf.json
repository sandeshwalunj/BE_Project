{"ast":null,"code":"var _jsxFileName = \"G:\\\\blockchain-scm\\\\appfrontend\\\\src\\\\components\\\\ConfirmRegistration.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from \"@material-ui/core/Paper\";\nimport Backdrop from '@material-ui/core/Backdrop';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Divider from '@material-ui/core/Divider';\nimport { CircularPageLoader } from \"./static/CircularPageLoader\";\nimport { USER_TYPES } from \"./enum/UsersEnum\";\nimport \"../css/NewUser.css\";\n\n/**\r\n * Renders the registration confirmation page for new addresses.\r\n * \r\n * @author syuki\r\n */\nconst ConfirmRegistration = _ref => {\n  let {\n    drizzle,\n    drizzleState,\n    isAuthenticated\n  } = _ref;\n  const [showLoader, setShowLoader] = useState();\n  const navigate = useNavigate();\n  const location = useLocation();\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/');\n    }\n  }, []);\n  function getContractMethod() {\n    let method = null;\n    switch (location.state.type) {\n      case USER_TYPES[0]:\n        method = drizzle.contracts.SupplyChainLifecycle.methods[\"addProducer\"];\n        break;\n      case USER_TYPES[1]:\n        method = drizzle.contracts.SupplyChainLifecycle.methods[\"addDistributor\"];\n        break;\n      case USER_TYPES[2]:\n        method = drizzle.contracts.SupplyChainLifecycle.methods[\"addRetailer\"];\n        break;\n    }\n    return method;\n  }\n  function addNewUser() {\n    setShowLoader(true);\n    const contractMethod = getContractMethod();\n    contractMethod(drizzleState.accounts[0]).send({\n      from: drizzleState.accounts[0],\n      gas: 1000000\n    }).then(receipt => {\n      console.log(receipt);\n      setShowLoader(false);\n      navigate(\"/registration-success\", {\n        state: {\n          userType: location.state.type\n        }\n      });\n    }).catch(error => {\n      console.log(error);\n      setShowLoader(false);\n      navigate(\"/registration-failure\");\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new-user-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Backdrop, {\n    open: true,\n    className: \"backdrop-design\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    elevation: 0,\n    className: \"new-user-paper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ArrowBackIosIcon, {\n    fontSize: \"large\",\n    \"aria-label\": \"back\",\n    onClick: () => navigate(-1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    style: {\n      fontWeight: \"500\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, \"Confirm registration as '\", location.state ? location.state.type : null, \"'?\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, \"By clicking on confirm, you agree to our terms and conditions as well. \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 99\n    }\n  }), \"Please read our terms and conditions here.\"), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      width: 200,\n      marginBottom: 30\n    },\n    variant: \"contained\",\n    color: \"primary\",\n    className: \"confirm-button\",\n    onClick: addNewUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, \"Confirm\"), /*#__PURE__*/React.createElement(Divider, {\n    style: {\n      marginBottom: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justifyContent: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"ModalLink\",\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 37\n    }\n  }, \"   \"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    className: \"ModalLink\",\n    href: \"https://mui.com/\",\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 30\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    className: \"ModalLink\",\n    href: \"https://reactjs.org/\",\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }, \" \", \" \")))), /*#__PURE__*/React.createElement(CircularPageLoader, {\n    open: showLoader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }));\n};\nexport default ConfirmRegistration;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","Button","Typography","Paper","Backdrop","IconButton","ArrowBackIosIcon","Link","Grid","Divider","CircularPageLoader","USER_TYPES","ConfirmRegistration","drizzle","drizzleState","isAuthenticated","showLoader","setShowLoader","navigate","location","getContractMethod","method","state","type","contracts","SupplyChainLifecycle","methods","addNewUser","contractMethod","accounts","send","from","gas","then","receipt","console","log","userType","catch","error","fontWeight","width","marginBottom"],"sources":["G:/blockchain-scm/appfrontend/src/components/ConfirmRegistration.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport { CircularPageLoader } from \"./static/CircularPageLoader\";\r\n\r\nimport { USER_TYPES } from \"./enum/UsersEnum\";\r\n\r\nimport \"../css/NewUser.css\";\r\n\r\n/**\r\n * Renders the registration confirmation page for new addresses.\r\n * \r\n * @author syuki\r\n */\r\nconst ConfirmRegistration = ({drizzle, drizzleState, isAuthenticated}) => {\r\n\r\n    const [showLoader, setShowLoader] = useState();\r\n\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n        if(isAuthenticated){\r\n            navigate('/');\r\n        }\r\n    }, []);\r\n\r\n    function getContractMethod() {\r\n        let method = null;\r\n        switch(location.state.type) {\r\n            case USER_TYPES[0]:\r\n                method = drizzle.contracts.SupplyChainLifecycle.methods[\"addProducer\"];\r\n                break;\r\n            case USER_TYPES[1]:\r\n                method = drizzle.contracts.SupplyChainLifecycle.methods[\"addDistributor\"];\r\n                break;   \r\n            case USER_TYPES[2]:\r\n                method = drizzle.contracts.SupplyChainLifecycle.methods[\"addRetailer\"];\r\n                break; \r\n        }\r\n        return method;\r\n    }\r\n\r\n    function addNewUser() {\r\n        setShowLoader(true);\r\n        const contractMethod = getContractMethod();\r\n        contractMethod(drizzleState.accounts[0])\r\n        .send(\r\n            {\r\n                from: drizzleState.accounts[0],\r\n                gas: 1000000\r\n            } \r\n        )\r\n        .then((receipt) => {\r\n            console.log(receipt);\r\n            setShowLoader(false);\r\n            navigate(\"/registration-success\", {\r\n                state: {\r\n                    userType: location.state.type\r\n                }\r\n              });\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n            setShowLoader(false);\r\n            navigate(\"/registration-failure\");\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"new-user-body\">\r\n            <Backdrop open className=\"backdrop-design\">\r\n                <Paper elevation={0} className=\"new-user-paper\">\r\n                    <IconButton color=\"inherit\">\r\n                        <ArrowBackIosIcon fontSize=\"large\" aria-label=\"back\" onClick={() => navigate(-1)} />\r\n                    </IconButton>\r\n                    <center>\r\n                        <Typography component=\"h1\" variant=\"h5\" style={{ fontWeight: \"500\" }}>Confirm registration as '{location.state? location.state.type : null}'?</Typography>\r\n                        <p>By clicking on confirm, you agree to our terms and conditions as well. <br/> \r\n                        Please read our terms and conditions here.</p>\r\n                        <Button style={{ width: 200, marginBottom: 30 }}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                className=\"confirm-button\"\r\n                                onClick={addNewUser}\r\n                            >\r\n                            Confirm\r\n                        </Button>\r\n                        <Divider style={{ marginBottom: 20 }} />\r\n                        {/* social media */}\r\n                        <Grid container justifyContent=\"center\">\r\n                                <Grid item xs={2}>\r\n                                    {/* <Link className=\"ModalLink\" href=\"https://github.com/Shira98\" target=\"_blank\" >{\" \"}<GitHubIcon /></Link> */}\r\n                                </Grid>\r\n                                <Grid item xs={1}> \r\n                                    {/* <Link className=\"ModalLink\" href=\"https://twitter.com/d_praneetha\" target=\"_blank\" >{\" \"}<TwitterIcon /></Link> */}\r\n                                </Grid>\r\n                                <Grid item xs={2}>\r\n                                    <Link className=\"ModalLink\"  target=\"_blank\">{\"   \"}\r\n                                        \r\n                                    </Link>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <br/>\r\n                             <Link className=\"ModalLink\" href=\"https://mui.com/\" target=\"_blank\" ></Link> \r\n                            <Link className=\"ModalLink\" href=\"https://reactjs.org/\" target=\"_blank\" \r\n                            > {\" \"}</Link> \r\n                    </center>\r\n                </Paper>\r\n            </Backdrop>\r\n            <CircularPageLoader \r\n                open={showLoader} \r\n            />\r\n        </div>\r\n    );\r\n };\r\n\r\n export default ConfirmRegistration;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAE3D,OAAOC,MAAM,MAAM,0BAA0B;AAC7C,OAAOC,UAAU,MAAM,8BAA8B;AACrD,OAAOC,KAAK,MAAM,yBAAyB;AAC3C,OAAOC,QAAQ,MAAM,4BAA4B;AACjD,OAAOC,UAAU,MAAM,8BAA8B;AACrD,OAAOC,gBAAgB,MAAM,iCAAiC;AAC9D,OAAOC,IAAI,MAAM,wBAAwB;AACzC,OAAOC,IAAI,MAAM,wBAAwB;AAEzC,OAAOC,OAAO,MAAM,2BAA2B;AAE/C,SAASC,kBAAkB,QAAQ,6BAA6B;AAEhE,SAASC,UAAU,QAAQ,kBAAkB;AAE7C,OAAO,oBAAoB;;AAE3B;AACA;AACA;AACA;AACA;AACA,MAAMC,mBAAmB,GAAG,QAA8C;EAAA,IAA7C;IAACC,OAAO;IAAEC,YAAY;IAAEC;EAAe,CAAC;EAEjE,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGpB,QAAQ,EAAE;EAE9C,MAAMqB,QAAQ,GAAGnB,WAAW,EAAE;EAC9B,MAAMoB,QAAQ,GAAGnB,WAAW,EAAE;EAE9BF,SAAS,CAAC,MAAM;IACZ,IAAGiB,eAAe,EAAC;MACfG,QAAQ,CAAC,GAAG,CAAC;IACjB;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,SAASE,iBAAiB,GAAG;IACzB,IAAIC,MAAM,GAAG,IAAI;IACjB,QAAOF,QAAQ,CAACG,KAAK,CAACC,IAAI;MACtB,KAAKZ,UAAU,CAAC,CAAC,CAAC;QACdU,MAAM,GAAGR,OAAO,CAACW,SAAS,CAACC,oBAAoB,CAACC,OAAO,CAAC,aAAa,CAAC;QACtE;MACJ,KAAKf,UAAU,CAAC,CAAC,CAAC;QACdU,MAAM,GAAGR,OAAO,CAACW,SAAS,CAACC,oBAAoB,CAACC,OAAO,CAAC,gBAAgB,CAAC;QACzE;MACJ,KAAKf,UAAU,CAAC,CAAC,CAAC;QACdU,MAAM,GAAGR,OAAO,CAACW,SAAS,CAACC,oBAAoB,CAACC,OAAO,CAAC,aAAa,CAAC;QACtE;IAAM;IAEd,OAAOL,MAAM;EACjB;EAEA,SAASM,UAAU,GAAG;IAClBV,aAAa,CAAC,IAAI,CAAC;IACnB,MAAMW,cAAc,GAAGR,iBAAiB,EAAE;IAC1CQ,cAAc,CAACd,YAAY,CAACe,QAAQ,CAAC,CAAC,CAAC,CAAC,CACvCC,IAAI,CACD;MACIC,IAAI,EAAEjB,YAAY,CAACe,QAAQ,CAAC,CAAC,CAAC;MAC9BG,GAAG,EAAE;IACT,CAAC,CACJ,CACAC,IAAI,CAAEC,OAAO,IAAK;MACfC,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;MACpBjB,aAAa,CAAC,KAAK,CAAC;MACpBC,QAAQ,CAAC,uBAAuB,EAAE;QAC9BI,KAAK,EAAE;UACHe,QAAQ,EAAElB,QAAQ,CAACG,KAAK,CAACC;QAC7B;MACF,CAAC,CAAC;IACR,CAAC,CAAC,CACDe,KAAK,CAAEC,KAAK,IAAK;MACdJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC;MAClBtB,aAAa,CAAC,KAAK,CAAC;MACpBC,QAAQ,CAAC,uBAAuB,CAAC;IACrC,CAAC,CAAC;EACN;EAEA,oBACI;IAAK,SAAS,EAAC,eAAe;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC1B,oBAAC,QAAQ;IAAC,IAAI;IAAC,SAAS,EAAC,iBAAiB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACtC,oBAAC,KAAK;IAAC,SAAS,EAAE,CAAE;IAAC,SAAS,EAAC,gBAAgB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC3C,oBAAC,UAAU;IAAC,KAAK,EAAC,SAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACvB,oBAAC,gBAAgB;IAAC,QAAQ,EAAC,OAAO;IAAC,cAAW,MAAM;IAAC,OAAO,EAAE,MAAMA,QAAQ,CAAC,CAAC,CAAC,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CAC3E,eACb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,UAAU;IAAC,SAAS,EAAC,IAAI;IAAC,OAAO,EAAC,IAAI;IAAC,KAAK,EAAE;MAAEsB,UAAU,EAAE;IAAM,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gCAA2BrB,QAAQ,CAACG,KAAK,GAAEH,QAAQ,CAACG,KAAK,CAACC,IAAI,GAAG,IAAI,OAAgB,eAC1J;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,2FAA0E;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAK,+CACjC,eAC9C,oBAAC,MAAM;IAAC,KAAK,EAAE;MAAEkB,KAAK,EAAE,GAAG;MAAEC,YAAY,EAAE;IAAG,CAAE;IACxC,OAAO,EAAC,WAAW;IACnB,KAAK,EAAC,SAAS;IACf,SAAS,EAAC,gBAAgB;IAC1B,OAAO,EAAEf,UAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,aAGnB,eACT,oBAAC,OAAO;IAAC,KAAK,EAAE;MAAEe,YAAY,EAAE;IAAG,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eAExC,oBAAC,IAAI;IAAC,SAAS;IAAC,cAAc,EAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC/B,oBAAC,IAAI;IAAC,IAAI;IAAC,EAAE,EAAE,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAEV,eACP,oBAAC,IAAI;IAAC,IAAI;IAAC,EAAE,EAAE,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAEV,eACP,oBAAC,IAAI;IAAC,IAAI;IAAC,EAAE,EAAE,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACb,oBAAC,IAAI;IAAC,SAAS,EAAC,WAAW;IAAE,MAAM,EAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAE,KAAK,CAE5C,CACJ,CACJ,eACP;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAK,eACJ,oBAAC,IAAI;IAAC,SAAS,EAAC,WAAW;IAAC,IAAI,EAAC,kBAAkB;IAAC,MAAM,EAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAS,eAC7E,oBAAC,IAAI;IAAC,SAAS,EAAC,WAAW;IAAC,IAAI,EAAC,sBAAsB;IAAC,MAAM,EAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,QACpE,GAAG,CAAQ,CACb,CACL,CACD,eACX,oBAAC,kBAAkB;IACf,IAAI,EAAE1B,UAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACnB,CACA;AAEb,CAAC;AAED,eAAeJ,mBAAmB"},"metadata":{},"sourceType":"module"}